<html><body><p>WEEK-10</p><p></p><p></p><p>AIM: Implement basic CRUD (Create, Read, Update, Delete) operations on a MySQL database using JDBC in Java. </p><p>Explore Spring's stereotype annotations like @Component, @Service, @Repository, and @Controller to define beans with specific roles in the application.</p><p>Implement a Spring JDBC Template to interact with a MySQL relational database</p><p> </p><p>CODE:</p><p>Application.properties</p><p>spring.application.name=spring-crud-jdbc</p><p>spring.datasource.url=jdbc:mysql://localhost:3306/studentdb</p><p>spring.datasource.username=root</p><p>spring.datasource.password=</p><p>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</p><p></p><p>spring.jpa.show-sql=true</p><p></p><p>JdbcConfig.java</p><p>package com.example.demo.config;</p><p></p><p>import javax.sql.DataSource;</p><p>import org.springframework.context.annotation.Bean;</p><p>import org.springframework.context.annotation.Configuration;</p><p>import org.springframework.jdbc.core.JdbcTemplate;</p><p></p><p>@Configuration</p><p>public class JdbcConfig {</p><p></p><p>    @Bean</p><p>    public JdbcTemplate jdbcTemplate(DataSource dataSource) {</p><p>        return new JdbcTemplate(dataSource);</p><p>    }</p><p>}</p><p></p><p>StudentController.java</p><p>package com.example.demo.controller;</p><p></p><p>import java.util.List;</p><p>import org.springframework.beans.factory.annotation.Autowired;</p><p>import org.springframework.web.bind.annotation.*;</p><p></p><p>import com.example.demo.model.Student;</p><p>import com.example.demo.service.StudentService;</p><p></p><p>@RestController</p><p>@RequestMapping("/students")</p><p>public class StudentController {</p><p></p><p>    @Autowired</p><p>    private StudentService service;</p><p></p><p>    @PostMapping("/add")</p><p>    public String add(@RequestBody Student s) {</p><p>        service.save(s);</p><p>        return "Student added!";</p><p>    }</p><p></p><p>    @GetMapping("/get")</p><p>    public List<Student> list() {</p><p>        return service.listAll();</p><p>    }</p><p></p><p>    @GetMapping("/{id}")</p><p>    public Student get(@PathVariable int id) {</p><p>        return service.get(id);</p><p>    }</p><p></p><p>    @PutMapping("/update")</p><p>    public String update(@RequestBody Student s) {</p><p>        service.update(s);</p><p>        return "Student updated!";</p><p>    }</p><p></p><p>    @DeleteMapping("/delete/{id}")</p><p>    public String delete(@PathVariable int id) {</p><p>        service.delete(id);</p><p>        return "Student deleted!";</p><p>    }</p><p>}</p><p></p><p>Student.java</p><p>package com.example.demo.model;</p><p></p><p>public class Student {</p><p>    private int id;</p><p>    private String name;</p><p>    private String email;</p><p></p><p>    public Student() {}</p><p></p><p>    public Student(int id, String name, String email) {</p><p>        this.id = id;</p><p>        this.name = name;</p><p>        this.email = email;</p><p>    }</p><p></p><p>    // Getters & Setters</p><p>    public int getId() { return id; }</p><p>    public void setId(int id) { this.id = id; }</p><p>    public String getName() { return name; }</p><p>    public void setName(String name) { this.name = name; }</p><p>    public String getEmail() { return email; }</p><p>    public void setEmail(String email) { this.email = email; }</p><p>}</p><p></p><p>StudentRepository.java</p><p>package com.example.demo.repository;</p><p></p><p>import java.util.List;</p><p>import org.springframework.beans.factory.annotation.Autowired;</p><p>import org.springframework.jdbc.core.BeanPropertyRowMapper;</p><p>import org.springframework.jdbc.core.JdbcTemplate;</p><p>import org.springframework.stereotype.Repository;</p><p>import com.example.demo.model.Student;</p><p></p><p>@Repository</p><p>public class StudentRepository {</p><p></p><p>    @Autowired</p><p>    private JdbcTemplate jdbcTemplate;</p><p></p><p>    public int save(Student s) {</p><p>        return jdbcTemplate.update(</p><p>            "INSERT INTO student(name, email) VALUES (?, ?)",</p><p>            s.getName(), s.getEmail());</p><p>    }</p><p></p><p>    public List<Student> listAll() {</p><p>        return jdbcTemplate.query("SELECT * FROM student",</p><p>            new BeanPropertyRowMapper<>(Student.class));</p><p>    }</p><p></p><p>    public Student getById(int id) {</p><p>        return jdbcTemplate.queryForObject(</p><p>            "SELECT * FROM student WHERE id = ?",</p><p>            new BeanPropertyRowMapper<>(Student.class),</p><p>            id</p><p>        );</p><p>    }</p><p></p><p>    public int update(Student s) {</p><p>        return jdbcTemplate.update(</p><p>            "UPDATE student SET name=?, email=? WHERE id=?",</p><p>            s.getName(), s.getEmail(), s.getId());</p><p>    }</p><p></p><p>    public int delete(int id) {</p><p>        return jdbcTemplate.update(</p><p>            "DELETE FROM student WHERE id=?", id);</p><p>    }</p><p>}</p><p></p><p>StudentService.java</p><p>package com.example.demo.service;</p><p></p><p>import java.util.List;</p><p>import org.springframework.beans.factory.annotation.Autowired;</p><p>import org.springframework.stereotype.Service;</p><p>import com.example.demo.model.Student;</p><p>import com.example.demo.repository.StudentRepository;</p><p></p><p>@Service</p><p>public class StudentService {</p><p></p><p>    @Autowired</p><p>    private StudentRepository repo;</p><p></p><p>    public int save(Student s) { return repo.save(s); }</p><p></p><p>    public List<Student> listAll() { return repo.listAll(); }</p><p></p><p>    public Student get(int id) { return repo.getById(id); }</p><p></p><p>    public int update(Student s) { return repo.update(s); }</p><p></p><p>    public int delete(int id) { return repo.delete(id); }</p><p>}</p><p></p><p>OUTPUT:</p><p></p><p></p><p></p><p> </p><p></p><p></p><p></p><p></p><p></p><p>RESULTS:</p><p>CRUD Operations are successfully done. </p><p>Spring's stereotype annotations @Component, @Service, @Repository, and @Controller are used.</p><p>MySQL database is used.</p><p></p><p></p><img src="image4.png" style="max-width:100%; margin-top:10px;"><img src="image3.png" style="max-width:100%; margin-top:10px;"><img src="image2.png" style="max-width:100%; margin-top:10px;"><img src="image7.png" style="max-width:100%; margin-top:10px;"><img src="image1.png" style="max-width:100%; margin-top:10px;"><img src="image6.png" style="max-width:100%; margin-top:10px;"><img src="image5.png" style="max-width:100%; margin-top:10px;"></body></html>
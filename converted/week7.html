<html><body><p>WEEK-7 COOKIES</p><p>DATE:06-10-25</p><p>AIM:To develop a Java Servlet program that demonstrates the concept of cookies by creating, setting, and reading cookies from the clientâ€™s browser to maintain user-specific information across multiple requests.</p><p>Code:</p><p></p><p>clearCookieServlet.java:</p><p>package com.example.cookies; import java.io.*;</p><p>import javax.servlet.*;</p><p>import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; @WebServlet("/clear")</p><p>public class ClearCookieServlet extends HttpServlet { @Override</p><p>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {</p><p>Cookie cookie = new Cookie("username", ""); cookie.setMaxAge(0);</p><p>cookie.setPath(request.getContextPath().isEmpty() ? "/" : request.getContextPath()); response.addCookie(cookie);</p><p>response.sendRedirect(request.getContextPath() + "/");</p><p>}</p><p>}</p><p></p><p></p><p>readCookiesServlet.java: package com.example.cookies; import java.io.*;</p><p>import java.net.URLDecoder; import javax.servlet.*;</p><p></p><p>import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; @WebServlet("/read")</p><p>public class ReadCookieServlet extends HttpServlet { @Override</p><p>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {</p><p>String username = null;</p><p>Cookie[] cookies = request.getCookies(); if (cookies != null) {</p><p>for (Cookie c : cookies) {</p><p>if ("username".equals(c.getName())) {</p><p>username = URLDecoder.decode(c.getValue(), "UTF-8"); break;</p><p>}</p><p>}</p><p>}</p><p>response.setContentType("text/html;charset=UTF-8"); try (PrintWriter out = response.getWriter()) {</p><p>out.println("<html><body>"); if (username != null) {</p><p>out.println("<h3>Found cookie! username = " + username + "</h3>");</p><p>} else {</p><p>out.println("<h3>No 'username' cookie found</h3>");</p><p>}</p><p>out.println("<p><a href=\"" + request.getContextPath() + "/\">Back</a></p>"); out.println("</body></html>");</p><p>}</p><p>}</p><p>@Override</p><p>protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {</p><p></p><p>doGet(req, resp);</p><p>}</p><p>}</p><p></p><p></p><p>setCookieServlet.java:</p><p>package com.example.cookies; import java.io.*;</p><p>import java.net.URLEncoder; import javax.servlet.*;</p><p>import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; @WebServlet("/set")</p><p>public class SetCookieServlet extends HttpServlet { @Override</p><p>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {</p><p>String user = request.getParameter("username"); if (user == null || user.trim().isEmpty()) {</p><p>user = "Guest";</p><p>}</p><p>String value = URLEncoder.encode(user, "UTF-8"); Cookie cookie = new Cookie("username", value); cookie.setMaxAge(60 * 60 * 24);</p><p>cookie.setPath(request.getContextPath().isEmpty() ? "/" : request.getContextPath()); cookie.setHttpOnly(true);</p><p>// cookie.setSecure(true); response.addCookie(cookie); response.setContentType("text/html;charset=UTF-8"); try (PrintWriter out = response.getWriter()) {</p><p>out.println("<html><body>");</p><p>out.println("<h3>Cookie created for user: " + user + "</h3>");</p><p></p><p>out.println("<p><a href=\"" + request.getContextPath() + "/read\">Read cookie</a></p>");</p><p>out.println("</body></html>");</p><p>}</p><p>}</p><p>@Override</p><p>protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {</p><p>doGet(req, resp);</p><p>}</p><p>}</p><p></p><p></p><p>index.html:</p><p><!doctype html></p><p><html></p><p><head></p><p><meta charset="utf-8" /></p><p><title>CookieDemo</title></p><p></head></p><p><body></p><p><h2>Cookie demo</h2></p><p><form action="set" method="get"> Name: <input name="username" /></p><p><button type="submit">Set cookie</button></p><p></form></p><p><p><a href="read">Read cookie</a></p></p><p><p><a href="clear">Clear cookie</a></p></p><p></body></p><p></html></p><p></p><p>Output:</p><p></p><p></p><p></p><img src="image1.jpeg" style="max-width:100%; margin-top:10px;"><img src="image2.jpeg" style="max-width:100%; margin-top:10px;"><img src="image3.jpeg" style="max-width:100%; margin-top:10px;"></body></html>